"TRAINING_WOOD"
{
  name = "wooden training dummy"
  viewId = { "training_wood" }
  blockMovement = true
  usageType = BuiltinUsageId TRAIN
  fire = 50
  canHideHere = true
  strength = 80
  maxTraining = {
    MELEE 3
  }
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"TRAINING_IRON"
{
  name = "iron training dummy"
  viewId = { "training_iron" }
  blockMovement = true
  usageType = BuiltinUsageId TRAIN
  canHideHere = true
  strength = 80
  upgrade = "TRAINING_WOOD"
  maxTraining = {
    MELEE 7
  }
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"TRAINING_ADA"
{
  name = "adamantine training dummy"
  viewId = { "training_ada" }
  blockMovement = true
  usageType = BuiltinUsageId TRAIN
  canHideHere = true
  strength = 80
  upgrade = "TRAINING_IRON"
  maxTraining = {
    MELEE 99
  }
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
Def TRAINING(SUF1, SUF2)
"TRAINING_WOOD" + SUF1 inherit "TRAINING_WOOD" { viewId = { "training_wood" + SUF2 } }
"TRAINING_IRON" + SUF1 inherit "TRAINING_IRON" { viewId = { "training_iron" + SUF2 } upgrade = "TRAINING_WOOD" + SUF1 }
"TRAINING_ADA" + SUF1 inherit "TRAINING_ADA" { viewId = { "training_ada" + SUF2 } upgrade = "TRAINING_IRON" + SUF1 }
End
TRAINING("_HUMAN", "_human")
TRAINING("_NECRO", "_necro")
TRAINING("_DWARF", "_dwarf")
"ARCHERY_RANGE"
{
  name = "archery target"
  viewId = { "archery_range" }
  blockMovement = true
  noProjectiles = true
  usageType = BuiltinUsageId ARCHERY_RANGE
  canHideHere = true
  strength = 80
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  canBuildOutsideOfTerritory = true
}
"WORKSHOP"
{
  name = "workshop"
  viewId = { "workshop" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  fire = 50
  strength = 80
  requiresLight = true
  usageFX = WORKSHOP
}
"FORGE"
{
  name = "forge"
  viewId = { "forge" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  strength = 80
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
  usageFX = FORGE
}
"LABORATORY"
{
  name = "laboratory"
  viewId = { "cauldron" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  strength = 80
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
  usageFX = LABORATORY
}
"CAULDRON_TAR"
{
  name = "cauldron with tar"
  viewId = { "cauldron_tar" }
  blockMovement = true
  canHideHere = true
  strength = 80
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"JEWELLER"
{
  name = "jeweller"
  viewId = { "jeweller" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  fire = 50
  strength = 40
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  usageFX = JEWELLER
}
"MORGUE_TABLE"
{
  name = "morgue table"
  viewId = { "morgue_table" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  fire = 50
  strength = 80
  requiresLight = true
  usageFX = EMBALMENT
}
"POETRY_TABLE" inherit "JEWELLER"
{
  name = "poetry table"
  viewId = { "poetry_table" }
  usageFX = none
}
"DINING_TABLE" inherit "JEWELLER"
{
  viewId = { "dining_table" }
  name = "dining table"
  usageFX = none
  diningFurniture = true
  usageType = UsageEffect "eat from" Filter Humanoid {
    CreatureMessage { "eat a steaming pig" "eats a steaming pig"}
    Lasting SATIATED
  }
}
"HAYPILE"
{
  viewId = { "haypile" }
  name = "hay pile"
  blockMovement = true
  usageTime = 5
  canHideHere = true
  fire = 100
  strength = 10
  destroyFX = { DESTROY_FURNITURE Rgb 200 200 0 255 }
  diningFurniture = true
  usageType = UsageEffect "eat from" Filter Not Humanoid {
    CreatureMessage { "eat some hay" "eats some hay"}
    Lasting SATIATED
  }
}
"DISTILLERY"
{
  name = "distillery"
  viewId = { "distillery" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  strength = 100
  usageType = UsageEffect "use" {
    Chance 0.02 DropItems {"Moonshine"} {1}
    Chance 0.005 SummonEnemy "RAT" {1 4} none
  }
}
"FURNACE"
{
  name = "furnace"
  viewId = { "furnace" }
  blockMovement = true
  usageTime = 5
  canHideHere = true
  strength = 100
  lightEmission = 4.2
}
"BOOKCASE_WOOD"
{
  name = "wooden bookcase"
  viewId = { "bookcase_wood" }
  blockMovement = true
  usageType = BuiltinUsageId STUDY
  usageTime = 5
  canHideHere = true
  fire = 70
  strength = 50
  maxTraining = {
    SPELL 3
  }
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"BOOKCASE_IRON"
{
  name = "iron bookcase"
  viewId = { "bookcase_iron" }
  blockMovement = true
  usageType = BuiltinUsageId STUDY
  usageTime = 5
  canHideHere = true
  fire = 70
  strength = 50
  upgrade = "BOOKCASE_WOOD"
  maxTraining = {
    SPELL 7
  }
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"BOOKCASE_GOLD"
{
  name = "golden bookcase"
  viewId = { "bookcase_gold" }
  blockMovement = true
  usageType = BuiltinUsageId STUDY
  usageTime = 5
  canHideHere = true
  fire = 70
  strength = 50
  upgrade = "BOOKCASE_IRON"
  maxTraining = {
    SPELL 99
  }
  requiresLight = true
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
}
Def BOOKCASES(SUF1, SUF2)
"BOOKCASE_WOOD" + SUF1 inherit "BOOKCASE_WOOD" { viewId = { "bookcase_wood" + SUF2 } }
"BOOKCASE_IRON" + SUF1 inherit "BOOKCASE_IRON" { viewId = { "bookcase_iron" + SUF2 } upgrade = "BOOKCASE_WOOD" + SUF1 }
"BOOKCASE_GOLD" + SUF1 inherit "BOOKCASE_GOLD" { viewId = { "bookcase_gold" + SUF2 } upgrade = "BOOKCASE_IRON" + SUF1 }
End
BOOKCASES("_NECRO", "_necro")
BOOKCASES("_HUMAN", "_human")
"THRONE"
{
  name = "throne"
  viewId = { "throne" }
  canHideHere = true
  usageType = UsageEffect "sit on" { CreatureMessage { "sit on the throne" "sits on the throne" } Audience none }
  luxury = 1.0
  strength = 80
  populationIncrease = { 10 none }
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
}
"THRONE_HUMAN" inherit "THRONE"
{
  viewId = { "throne_human" }
}
"IMPALED_HEAD"
{
  name = "impaled head"
  viewId = { "impaled_head" }
  strength = 10
  destroyFX = { DESTROY_FURNITURE ColorId WHITE }
  canBuildOutsideOfTerritory = true
}

Def BedHeal() Heal { FLESH 0.005 } End

"BEAST_CAGE"
{
  name = "beast cage"
  viewId = { "beast_cage" }
  usageType = UsageEffect "sleep in" Lasting SLEEP
  tickType = Effect BedHeal()
  canHideHere = true
  fire = 50
  strength = 40
  bedType = CAGE
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"BED1"
{
  name = "basic bed"
  viewId = { "bed1" }
  usageType = UsageEffect "sleep in" Lasting SLEEP
  tickType = Effect BedHeal()
  canHideHere = true
  fire = 50
  strength = 40
  bedType = BED
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"BED2"
{
  name = "fine bed"
  viewId = { "bed2" }
  usageType = UsageEffect "sleep in" Lasting SLEEP
  tickType = Effect BedHeal()
  canHideHere = true
  fire = 50
  luxury = 0.3
  strength = 40
  upgrade = "BED1"
  bedType = BED
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"BED3"
{
  name = "luxurious bed"
  viewId = { "bed3" }
  usageType = UsageEffect "sleep in" Lasting SLEEP
  tickType = Effect BedHeal()
  canHideHere = true
  luxury = 0.7
  fire = 50
  strength = 40
  upgrade = "BED2"
  bedType = BED
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"GRAVE"
{
  name = "grave"
  viewId = { "grave" }
  canHideHere = true
  tickType = Effect BedHeal()
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
  storageIds = {"corpses"}
}
"AUTOMATON_ENGINE_WOOD"
{
  name = "wooden automaton engine"
  viewId = { "automaton_engine" Rgb 180 140 55 255 }
  canHideHere = true
  strength = 50
  blockMovement = true
  populationIncrease = { 1 4 }
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"AUTOMATON_ENGINE_IRON"
{
  name = "iron automaton engine"
  viewId = { "automaton_engine" Rgb 140 148 148 255 }
  canHideHere = true
  strength = 50
  blockMovement = true
  populationIncrease = { 1 16 }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"AUTOMATON_ENGINE_ADA"
{
  name = "adamantine automaton engine"
  viewId = { "automaton_engine" Rgb 148 189 189 255 }
  canHideHere = true
  strength = 50
  blockMovement = true
  populationIncrease = { 1 none }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"DEMON_SHRINE"
{
  name = "demon shrine"
  viewId = { "demon_shrine" }
  blockMovement = true
  usageTime = 5
  usageType = BuiltinUsageId DEMON_RITUAL
  luxury = 0.4
  strength = 80
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
}
"ANGEL_SHRINE" inherit "DEMON_SHRINE"
{
  name = "angel shrine"
  viewId = { "angel_shrine" }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"PRISON"
{
  name = "prison tile"
  viewId = { "prison" }
  tickType = Effect BedHeal()
  usageType = UsageEffect "sleep in" Lasting SLEEP
  bedType = PRISON
  layer = FLOOR
}
"PRISON_BARS"
{
  name = "prison bars"
  viewId = { "prison_bars" }
  blockMovement = true
  strength = 160
  wall = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"PRISON_DOOR"
{
  name = "prison door"
  viewId = { "prison_door_ew" }
  movementSet = {
    traits = { WALK }
    blockingEnemies = true
    blockingPrisoners = true
  }
  canHideHere = true
  blockAllVision = true
  strength = 80
  requiredSupport = { { { E W } } { { N S } {"prison_door_ns"} } }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"ANIMAL_FENCE"
{
  name = "animal fence"
  viewId = { "fence" }
  movementSet = {
    traits = { WALK }
    blockingFarmAnimals = true
  }
  strength = 10
  wall = true
  canBuildOutsideOfTerritory = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"AUTOMATON_STORAGE"
{
  name = "automaton chest"
  viewId = { "automaton_storage" }
  emptyViewId = { "automaton_storage_empty" }
  canHideHere = true
  fire = 50
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  storageIds = {"automaton_parts"}
  hidesItems = true
}
"JEWELLERY_STORAGE"
{
  name = "jewellery chest"
  viewId = { "jewelry_storage" }
  emptyViewId = { "jewelry_storage_empty" }
  canHideHere = true
  fire = 50
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  storageIds = {"jewellery"}
  hidesItems = true
}
"ARMOR_RACK"
{
  name = "armor rack"
  viewId = { "armor_rack" }
  emptyViewId = { "armor_rack_empty" }
  canHideHere = true
  fire = 50
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  storageIds = {"armor"}
  hidesItems = true
}
"WEAPON_RACK"
{
  name = "weapon rack"
  viewId = { "weapon_rack" }
  emptyViewId = { "weapon_rack_empty" }
  canHideHere = true
  fire = 50
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  storageIds = {"weapons"}
  hidesItems = true
}
"BOW_RACK" inherit "WEAPON_RACK"
{
  name = "bow rack"
  viewId = { "bow_rack" }
  emptyViewId = { "bow_rack_empty" }
  storageIds = {"bows"}
}
"SCROLL_STORAGE"
{
  name = "scroll shelf"
  viewId = { "scroll_storage" }
  emptyViewId = { "scroll_storage_empty" }
  canHideHere = true
  fire = 50
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  storageIds = {"scrolls"}
  hidesItems = true
}
"POTION_STORAGE"
{
  name = "potion shelf"
  viewId = { "potion_storage" }
  emptyViewId = { "potion_storage_empty" }
  canHideHere = true
  fire = 50
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  storageIds = {"potions"}
  hidesItems = true
}
"TREASURE_CHEST"
{
  name = "treasure chest"
  viewId = { "treasurechest" }
  emptyViewId = { "treasurechest_empty" }
  canHideHere = true
  fire = 50
  luxury = 0.4
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
  storageIds = {"gold"}
  hidesItems = true
}
"EYEBALL"
{
  name = "eyeball"
  viewId = { "eyeball" }
  blockMovement = true
  canHideHere = true
  lightEmission = 8.2
  strength = 30
  canBuildOutsideOfTerritory = true
  eyeball = true
}
"WHIPPING_POST"
{
  name = "whipping post"
  viewId = { "whipping_post" }
  usageType = BuiltinUsageId TIE_UP
  fire = 30
  strength = 30
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"GALLOWS"
{
  name = "gallows"
  viewId = { "gallows" }
  usageType = BuiltinUsageId TIE_UP
  fire = 30
  strength = 30
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"PHYLACTERY"
{
  name = "phylactery"
  viewId = { "phylactery" }
  blockMovement = true
  canHideHere = true
  luxury = 1.0
  strength = 200
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
  usageType = UsageEffect "transfer your soul to" {
    Area 1
    Filter And { FurnitureType "PHYLACTERY" Not Flag "tmp" } {
      PlaceFurniture "PHYLACTERY_ACTIVE"
      SetPhylactery
      SetFlag "tmp" true
    }
    SetFlag "tmp" false
  }
}
"PHYLACTERY_ACTIVE" inherit "PHYLACTERY"
{
  usageType = none
  name = "active phylactery"
  viewId = { "phylactery_active" }
}
"MINION_STATUE"
{
  name = "gold statue"
  viewId = { "minion_statue" }
  blockMovement = true
  canHideHere = true
  luxury = 0.7
  strength = 50
  populationIncrease = { 1 none }
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
}
"STONE_MINION_STATUE"
{
  name = "stone statue"
  viewId = { "stone_minion_statue" }
  blockMovement = true
  canHideHere = true
  luxury = 0.3
  strength = 50
  populationIncrease = { 1 4 }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"ADOXIE_STATUE_TEMPLE"
{
  name = "statue of Evil God Adoxie"
  viewId = { "adoxie_statue" }
  blockMovement = true
  luxury = 0.7
  strength = 250
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
# if there is a destroyedEffect then the standard "is destroyed" text is not displayed, you need to add your own
  destroyedRemains = "DOWN_STAIRS"
  destroyedEffect = {
    Message NORMAL "The statue is destroyed!"
    Analytics "milestone" "adoxieTempleStatue"
  }
}
"ADOXIE_STATUE_VAULT" inherit "ADOXIE_STATUE_TEMPLE"
{
  destroyedEffect = {
    Message NORMAL "The statue is destroyed!"
    Analytics "milestone" "adoxieVaultStatue"
  }
}
"ADOXIE_STATUE" inherit "ADOXIE_STATUE_TEMPLE"
{
  destroyedEffect = {
    Message HIGH "The statue comes to life!"
    SummonEnemy "ADOXIE_HEAD" {1} none
    Analytics "milestone" "adoxieComesToLife"
  }
  destroyedRemains = "DOWN_STAIRS_ADOXIE"
}
"ADOXIE_LEFT_FOOT"
{
  name = "statue of Evil God Adoxie's Left Foot"
  viewId = { "adoxie_foot_statue_left" }
  blockMovement = true
  tickType = Effect
    Filter Flag "adoxie_left_foot_trigger" {
      RemoveFurniture "ADOXIE_LEFT_FOOT"
      SummonEnemy "ADOXIE_FOOT_LEFT_TRAP" {1} none
      SetFlag "adoxie_left_foot_trigger" false
    }
}
"ADOXIE_RIGHT_FOOT" inherit "ADOXIE_LEFT_FOOT"
{
  name = "statue of Evil God Adoxie's Right Foot"
  viewId = { "adoxie_foot_statue_right" }
  tickType = Effect
    Filter Flag "adoxie_right_foot_trigger" {
      RemoveFurniture "ADOXIE_RIGHT_FOOT"
      SummonEnemy "ADOXIE_FOOT_RIGHT_TRAP" {1} none
      SetFlag "adoxie_right_foot_trigger" false
    }
}
"ADOXIE_FEET_TRIGGER"
{
  name = "floor"
  layer = CEILING
  itemsRemovedEffect = {
    SetFlag "adoxie_left_foot_trigger" true
    SetFlag "adoxie_right_foot_trigger" true
    Analytics "milestone" "adoxieFeetTriggered"
  }
}
"ADOXIE_FEET_ALTAR"
{
  name = "altar"
  viewId = { "altar" }
  blockMovement = true
  luxury = 0.7
  strength = 250
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
  destroyedRemains = "DOWN_STAIRS"
}
"BARRICADE"
{
  name = "barricade"
  viewId = { "barricade" }
  blockMovement = true
  fire = 50
  strength = 80
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"CANIF_TREE"
{
  name = "tree"
  viewId = { "canif_tree" }
  canHideHere = true
  blockVision = { NORMAL }
  destroyedRemains = "TREE_TRUNK"
  burntRemains = "BURNT_TREE"
  dissolveTo = "BURNT_TREE"
  strength2 = {
    100 BOULDER
    70 CUT
  }
  fire = 100
  itemDrop = {{{{"WoodPlank"} 1 { 8 14 }}}}
  summonedElement = "ENT"
  tryDestroyFX = { WOOD_SPLINTERS }
}
"DECID_TREE" inherit "CANIF_TREE"
{
  viewId = { "decid_tree" }
}
"TREE_SNOW" inherit "CANIF_TREE"
{
  viewId = { "tree_snow" }
}
"SWAMPTREE" inherit "CANIF_TREE"
{
  viewId = { "swamptree" }
}
"CACTUS1" inherit "CANIF_TREE"
{
  viewId = { "cactus1" }
  name = "cactus"
  destroyedRemains = none
  summonedElement = none
}
"PALM_TREE" inherit "CANIF_TREE"
{
  viewId = { "palm_tree" }
}
"GUM_TREE" inherit "CANIF_TREE"
{
  viewId = { "tree_gum" }
}
"GIANT_MUSHROOM" inherit "CANIF_TREE"
{
  viewId = { "giant_mushroom" }
  name = "giant treeshroom"
  clearFogOfWar = true
  blockVision = {}
}
"TREE_TRUNK"
{
  name = "tree trunk"
  viewId = { "tree_trunk" }
  canSilentlyReplace = true
}
"BURNT_TREE"
{
  name = "burnt tree"
  viewId = { "burnt_tree" }
  canHideHere = true
  strength = 30
}
"BUSH"
{
  name = "bush"
  viewId = { "bush" }
  strength2 = {
    20 BOULDER
    10 CUT
  }
  canHideHere = true
  fire = 30
  itemDrop = {{{{"WoodPlank"} 1 { 2 4 }}}}
  tryDestroyFX = { WOOD_SPLINTERS }
}
"SWAMPPLANT" inherit "BUSH"
{
  name = "plant"
  viewId = { "swampplant" }
}
"STONES"
{
  name = "rocks"
  viewId = { "stones" }
  canSilentlyReplace = true
}
"TERMITE_MOUND"
{
  name = "termite mound"
  viewId = { "termite_mound" }
  canSilentlyReplace = true
}
"FLOWER1"
{
  name = "flower"
  viewId = { "flower1" }
  canSilentlyReplace = true
}
"FLOWER2" inherit "FLOWER1"
{
  viewId = { "flower2" }
}
"FLOWER3" inherit "FLOWER1"
{
  viewId = { "flower3" }
}
"CROPS"
{
  name = "wheat"
  viewId = { "swish_wheat" }
  usageType = UsageEffect "scythe " Chance 0.3 CreatureMessage { "scythe the field" "scythes the field"}
  usageTime = 3
  layer = FLOOR
  viewLayer = FLOOR
}
"CHICKEN_COOP"
{
  name = "chicken coop"
  viewId = { "mud" }
  tickType = Effect Chance 0.05 Filter
    And {
      IsClosedOffPigsty
      CanCreatureEnter
      Area 1 Not CreatureId "CHICKEN"
    }
    Summon "CHICKEN" 1 none
  canBuildOutsideOfTerritory = true
  populationIncrease = { 0.25 4 true }
}
"PIGSTY"
{
  name = "pigsty"
  viewId = { "mud" }
  tickType = Effect Chance 0.05 Filter
    And {
      IsClosedOffPigsty
      CanCreatureEnter
      Area 1 Not CreatureId "PIG"
    }
    Summon "PIG" 1 none
  canBuildOutsideOfTerritory = true
  populationIncrease = { 0.5 8 true }
}
"COW_PEN"
{
  name = "cow pen"
  viewId = { "mud" }
  tickType = Effect Chance 0.05 Filter
    And {
      IsClosedOffPigsty
      CanCreatureEnter
      Area 1 Not CreatureId "COW"
    }
    Summon "COW" 1 none
  canBuildOutsideOfTerritory = true
  populationIncrease = { 1 16 true }
}
"GROUND_TORCH"
{
  name = "standing torch"
  viewId = { "standing_torch" }
  luxury = 0.1
  lightEmission = 8.2
}
"TORCH_N"
{
  name = "torch"
  viewId = { "torch" }
  lightEmission = 8.2
  layer = CEILING
  viewLayer = TORCH1
  attachmentDir = N
  requiredSupport = { { { N } } }
  canBuildOutsideOfTerritory = true
}
"TORCH_S" inherit "TORCH_N"
{
  viewLayer = TORCH2
  attachmentDir = S
  requiredSupport = { { { S } } }
}
"TORCH_E" inherit "TORCH_S"
{
  attachmentDir = E
  requiredSupport = { { { E } } }
}
"TORCH_W" inherit "TORCH_S"
{
  attachmentDir = W
  requiredSupport = { { { W } } }
}
"CANDELABRUM_N" inherit "TORCH_N"
{
  name = "candelabrum"
  viewId = { "candelabrum_ns" }
  luxury = 0.3
}
"CANDELABRUM_S" inherit "TORCH_S"
{
  name = "candelabrum"
  viewId = { "candelabrum_ns" }
  luxury = 0.3
}
"CANDELABRUM_E" inherit "TORCH_E"
{
  name = "candelabrum"
  viewId = { "candelabrum_e" }
  luxury = 0.3
}
"CANDELABRUM_W" inherit "TORCH_W"
{
  name = "candelabrum"
  viewId = { "candelabrum_w" }
  luxury = 0.3
}
"PAINTING_N"
{
  name = "painting canvas"
  viewId = { "canvas_n" }
  layer = CEILING
  viewLayer = TORCH1
  attachmentDir = N
  requiredSupport = { { { N } } }
}
"PAINTING_S" inherit "PAINTING_N"
{
  viewId = { "canvas_s" }
  attachmentDir = S
  requiredSupport = { { { S } } }
}
"PAINTING_E" inherit "PAINTING_S"
{
  viewId = { "canvas_e" }
  attachmentDir = E
  requiredSupport = { { { E } } }
}
"PAINTING_W" inherit "PAINTING_S"
{
  viewId = { "canvas_w" }
  attachmentDir = W
  requiredSupport = { { { W } } }
}
"TORTURE_TABLE"
{
  name = "torture table"
  viewId = { "torture_table" }
  canHideHere = true
  usageType = BuiltinUsageId TIE_UP
  strength = 80
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"FOUNTAIN"
{
  name = "fountain"
  viewId = { "fountain" }
  canHideHere = true
  luxury = 0.7
  usageType = UsageEffect "drink from"
      {
        CreatureMessage { "take a sip" "takes a sip"}
        ChooseRandom {
          Heal { FLESH }
          Lasting SLEEP
          Lasting SLOWED
          Lasting BLIND
          Lasting INVISIBLE
          Lasting POISON
          Lasting POISON_RESISTANT
          Lasting FLYING
          Lasting SPEED
        }
      }
  summonedElement = "WATER_ELEMENTAL"
  strength = 80
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"ALTAR"
{
  name = "altar"
  viewId = { "altar" }
  canHideHere = true
  strength = 80
  usageType = UsageEffect "desecrate" {
    CreatureMessage { "desecrate the altar" "desecrates the altar"}
    DestroyWalls BASH
    ChooseRandom {
      {
        Message NORMAL "A streak of magical energy is released"
        ChooseRandom {
          Permanent RAGE
          Permanent BLIND
          Permanent PANIC
          Permanent SPEED
          Permanent FLYING
          Permanent SLOWED
          Permanent INSANITY
          Permanent COLLAPSED
#          Permanent INVISIBLE
          Permanent TELEPATHY
          Permanent MELEE_RESISTANCE
          Permanent MELEE_VULNERABILITY
          Permanent MAGIC_RESISTANCE
          Permanent MAGIC_VULNERABILITY
          Permanent RANGED_RESISTANCE
          Permanent RANGED_VULNERABILITY
          Permanent BAD_BREATH
          Permanent NIGHT_VISION
        }
      }
      {
        Message NORMAL "A streak of magical energy is released"
        ChooseRandom {
          IncreaseAttr DAMAGE -3
          IncreaseAttr DAMAGE 3
          IncreaseAttr RANGED_DAMAGE -3
          IncreaseAttr RANGED_DAMAGE 3
          IncreaseAttr SPELL_DAMAGE -3
          IncreaseAttr SPELL_DAMAGE 3
          IncreaseAttr DEFENSE -3
          IncreaseAttr DEFENSE 3
          Acid{30}
          Fire{30}
          Lasting 40 DAM_BONUS
          Lasting BLIND
          Lasting POISON
          Lasting 50 BLEEDING
          Lasting HALLU
        }
      }
      {
        Message NORMAL "Wrath upon you!"
        SummonEnemy "ANGEL" {3 6} none
      }
      {
        CreatureMessage { "find some gold coins in the cracks" "finds some gold coins in the cracks"}
        DropItems {"GoldPiece"} {50 100}
      }
      {
        CreatureMessage { "find a glyph in the cracks!" "finds a glyph in the cracks!"}
        ChooseRandom {
          DropItems {Glyph ARMOR ItemAttrBonus DAMAGE 2} {1}
          DropItems {Glyph ARMOR ItemAttrBonus DEFENSE 2} {1}
          DropItems {Glyph ARMOR LastingEffect TELEPATHY} {1}
          DropItems {Glyph WEAPON VictimEffect 0.3 Lasting 50 BLEEDING} {1}
          DropItems {Glyph RANGED_WEAPON ItemAttrBonus RANGED_DAMAGE 2} {1}
        }
      }
    }
  }
  destroyedRemains = "ALTAR_DES"
}
"ALTAR_DES"
{
  name = "desecrated altar"
  viewId = { "altar_des" }
  canHideHere = true
}
"CHEST"
{
  name = "chest"
  viewId = { "chest" }
  canHideHere = true
  usageType = BuiltinUsageId CHEST
  fire = 50
  strength = 30
}
"BOOKCASE_STAIRS" inherit "BOOKCASE_WOOD"
{
  destroyedRemains = "UP_STAIRS"
  destroyedEffect = {
    Message NORMAL "The bookcase is destroyed!"
    Analytics "milestone" "bookcaseStairs"
  }
}
"DINING_TABLE_STAIRS" inherit "DINING_TABLE"
{
  destroyedRemains = "DOWN_STAIRS"
  destroyedEffect = {
    Message NORMAL "The table is destroyed!"
    Analytics "milestone" "diningTableStairs"
  }
}
"FORGE_STAIRS" inherit "FORGE"
{
  destroyedRemains = "DOWN_STAIRS"
  destroyedEffect = {
    Message NORMAL "The forge is destroyed!"
    Analytics "milestone" "forgeStairs"
  }
}
"ARMOR_CHEST"
{
  name = "chest"
  viewId = { "chest" }
  canHideHere = true
  usageType = UsageEffect "open" {
    CreatureMessage { "open the chest" "opens the chest"}
    CreatureMessage { "find some equipment inside" "finds some equipment inside"}
    ChooseRandom {
      DropItems {"ChainArmor"} 1
      DropItems {"IronBoots"} 1
      DropItems {"IronHelm"} 1
      DropItems {"LeatherArmor"} 1
      DropItems {"LeatherBoots"} 1
      DropItems {"LeatherGloves"} 1
    }
    RemoveFurniture "ARMOR_CHEST"
  }
  fire = 50
  strength = 30
  destroyedRemains = "OPENED_CHEST"
}
"PAMPHLET_CHEST" inherit "ARMOR_CHEST"
{
  usageType = UsageEffect "open" {
    CreatureMessage { "open the chest" "opens the chest"}
    CreatureMessage { "find some pamphlets inside" "finds some pamphlets inside"}
    DropItems {"AdoxieScroll"} {10 20}
    RemoveFurniture "PAMPHLET_CHEST"
  }
}
"ZOMBIE_CHEST" inherit "ARMOR_CHEST"
{
  usageType = UsageEffect "open" {
    CreatureMessage { "open the chest" "opens the chest"}
    CreatureMessage { "find a scroll inside" "finds a scroll inside"}
    DropItems {"ZombieScroll"} 1
    RemoveFurniture "ZOMBIE_CHEST"
  }
}
"KNIFE_CHEST" inherit "ARMOR_CHEST"
{
  usageType = UsageEffect "open" {
    CreatureMessage { "open the chest" "opens the chest"}
    CreatureMessage { "find an item inside" "finds an item inside"}
    DropItems {"AssassinsKnife"} 1
    RemoveFurniture "KNIFE_CHEST"
  }
}
"ADA_CHEST" inherit "ARMOR_CHEST"
{
  usageType = UsageEffect "open" {
    CreatureMessage {"open the chest" "opens the chest"}
    CreatureMessage {"find an item inside" "finds an item inside"}
    ChooseRandom {
      DropItems {"AdaSword"} 1
      DropItems {"AdaBattleAxe"} 1
      DropItems {"AdaWarHammer"} 1
      DropItems {"AdaGloves"} 1
      DropItems {"AdaShield"} 1
      DropItems {"AdaArmor"} 1
      DropItems {"AdaHelm"} 1
      DropItems {"AdaBoots"} 1
    }
    Analytics "milestone" "adaChest"
    RemoveFurniture "ADA_CHEST"
  }
}
"SWARMER_CHEST" inherit "ARMOR_CHEST"
{
  usageType = UsageEffect "open" {
    CreatureMessage { "open the chest" "opens the chest"}
    CreatureMessage { "find an item inside" "finds an item inside"}
    DropItems {Potion Permanent SWARMER} 1
    Analytics "milestone" "swarmerChest"
    RemoveFurniture "SWARMER_CHEST"
  }
}
"BLACKSMITH_CHEST" inherit "ARMOR_CHEST"
{
  usageType = UsageEffect "open" {
    CreatureMessage { "open the chest" "opens the chest"}
    CreatureMessage { "find an item inside" "finds an item inside"}
    ChooseRandom {
      DropItems {Glyph ARMOR ItemAttrBonus DEFENSE 2} 1
      DropItems {Glyph ARMOR ItemAttrBonus DEFENSE 3} 1
      DropItems {Glyph ARMOR ItemAttrBonus DEFENSE 4} 1
      DropItems {Glyph WEAPON ItemAttrBonus DAMAGE 2} 1
      DropItems {Glyph WEAPON ItemAttrBonus DAMAGE 3} 1
      DropItems {Glyph WEAPON ItemAttrBonus DAMAGE 4} 1
      DropItems {Glyph RANGED_WEAPON ItemAttrBonus RANGED_DAMAGE 2} 1
      DropItems {Glyph RANGED_WEAPON ItemAttrBonus RANGED_DAMAGE 3} 1
      DropItems {Glyph RANGED_WEAPON ItemAttrBonus RANGED_DAMAGE 4} 1
    }
    RemoveFurniture "BLACKSMITH_CHEST"
  }
}
"DRAGON_CHEST" inherit "ARMOR_CHEST"
{
  fire = 0
  usageType = UsageEffect "open" {
    CreatureMessage { "open the chest" "opens the chest"}
    CreatureMessage { "find an item inside" "finds an item inside"}
    ChooseRandom {
      DropItems {"GoldPiece"} {30 100} 
      DropItems {PrefixChance 1 {"Sword"}} 1
      DropItems {PrefixChance 1 {"BattleAxe"}} 1
      DropItems {PrefixChance 1 {"WarHammer"}} 1
      DropItems {PrefixChance 1 {"IronStaff"}} 1
    }
    RemoveFurniture "DRAGON_CHEST"
  }
}
"OPENED_CHEST"
{
  name = "opened chest"
  viewId = { "opened_chest" }
  canHideHere = true
  fire = 50
  strength = 30
}
"COFFIN1"
{
  name = "basic coffin"
  viewId = { "coffin1" }
  canHideHere = true
  usageType = UsageEffect "sleep in" Lasting SLEEP
  fire = 50
  strength = 40
  bedType = COFFIN
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"COFFIN2"
{
  name = "fine coffin"
  viewId = { "coffin2" }
  canHideHere = true
  usageType = UsageEffect "sleep in" Lasting SLEEP
  luxury = 0.3
  fire = 50
  strength = 40
  upgrade = "COFFIN1"
  bedType = COFFIN
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"COFFIN3"
{
  name = "luxurious coffin"
  viewId = { "coffin3" }
  canHideHere = true
  usageType = UsageEffect "sleep in" Lasting SLEEP
  luxury = 0.7
  fire = 50
  strength = 40
  upgrade = "COFFIN2"
  bedType = COFFIN
  destroyFX = { DESTROY_FURNITURE Rgb 190 190 40 255 }
}
"LOOT_COFFIN"
{
  name = "coffin"
  viewId = { "coffin1" }
  canHideHere = true
  usageType = BuiltinUsageId COFFIN
  fire = 50
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"OPENED_COFFIN"
{
  name = "opened coffin"
  viewId = { "opened_coffin" }
  canHideHere = true
  usageType = UsageEffect "sleep in" Lasting SLEEP
  fire = 50
  strength = 40
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"WOOD_DOOR"
{
  name = "wooden door"
  viewId = { "wood_door_ew" }
  blockingEnemies = true
  canHideHere = true
  blockAllVision = true
  fire = 50
  strength = 160
  clickType = LOCK
  canBuildOutsideOfTerritory = true
  requiredSupport = { { { E W } } { { N S } {"wood_door_ns"} } }
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"WOOD_GATE"
{
  name = "wooden gate"
  viewId = { "wood_gate_w" }
  blockingEnemies = true
  canHideHere = true
  blockAllVision = true
  fire = 50
  strength = 240
  clickType = LOCK
  canBuildOutsideOfTerritory = true
  requiredSupport = { { { W } } { { N } {"wood_gate_n"} } { { E } {"wood_gate_e"} } { { S } {"wood_gate_s"} } }
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"IRON_DOOR"
{
  name = "iron door"
  viewId = { "iron_door_ew" }
  blockingEnemies = true
  canHideHere = true
  blockAllVision = true
  strength = 240
  clickType = LOCK
  canBuildOutsideOfTerritory = true
  requiredSupport = { { { E W } } { { N S } {"iron_door_ns"} } }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"IRON_DOOR_BLOCKING" inherit "IRON_DOOR"
{
  blockMovement = true
}
"IRON_GATE"
{
  name = "iron gate"
  viewId = { "iron_gate_w" }
  blockingEnemies = true
  canHideHere = true
  blockAllVision = true
  strength = 320
  clickType = LOCK
  canBuildOutsideOfTerritory = true
  requiredSupport = { { { W } } { { N } {"iron_gate_n"} } { { E } {"iron_gate_e"} } { { S } {"iron_gate_s"} } }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"IRON_GATE_BLOCKING" inherit "IRON_GATE"
{
  blockMovement = true
}
"ADA_DOOR"
{
  name = "adamantine door"
  viewId = { "ada_door_ew" }
  blockingEnemies = true
  canHideHere = true
  blockAllVision = true
  strength = 480
  clickType = LOCK
  canBuildOutsideOfTerritory = true
  requiredSupport = { { { E W } } { { N S } {"ada_door_ns"} } }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"ADA_GATE"
{
  name = "adamantine gate"
  viewId = { "ada_gate_w" }
  blockingEnemies = true
  canHideHere = true
  blockAllVision = true
  strength = 540
  clickType = LOCK
  canBuildOutsideOfTerritory = true
  requiredSupport = { { { W } } { { N } {"ada_gate_n"} } { { E } {"ada_gate_e"} } { { S } {"ada_gate_s"} } }
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"WELL"
{
  name = "well"
  viewId = { "well" }
  canHideHere = true
  fire = 50
  summonedElement = "WATER_ELEMENTAL"
  strength = 80
}
"SNOWMAN"
{
  name = "snowman"
  viewId = { "snowman" }
  canHideHere = true
  blockMovement = true
  strength = 10
  meltInfo = { none }
}
"KEEPER_BOARD"
{
  name = "message board"
  viewId = { "notice_board" }
  canHideHere = true
  usageType = BuiltinUsageId KEEPER_BOARD
  clickType = KEEPER_BOARD
  fire = 50
  strength = 50
  canBuildOutsideOfTerritory = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"UP_STAIRS"
{
  name = "stairs"
  viewId = { "up_staircase" }
  canHideHere = true
# xForgetAfterBuilding = true
  usageType = UsageEffect "use" Stairs
  onBuilt = UP_STAIRS
}
"DOWN_STAIRS" inherit "UP_STAIRS"
{
  viewId = { "down_staircase" }
  onBuilt = DOWN_STAIRS
}
"UP_STAIRS_ROCK" inherit "UP_STAIRS"
{
  viewId = { "up_staircase_rock" }
}
"DOWN_STAIRS_ROCK" inherit "DOWN_STAIRS"
{
  viewId = { "down_staircase_rock" }
}
"PORTAL_STAIRS"
{
  viewId = { "portal" ColorId PURPLE }
  name = "portal"
  canHideHere = true
  constructMessage = none
  usageType = UsageEffect "use" {Stairs Fx { TELEPORT_OUT }}
}
"DOWN_STAIRS_ADOXIE"
{
  name = "stairs"
  viewId = { "down_staircase" }
  canHideHere = true
  usageType = UsageEffect "use" { Message NORMAL "You lose your sense of direction" Stairs }
  onBuilt = DOWN_STAIRS
}
"INACTIVE_PORTAL"
{
  name = "portal"
  viewId = { "inactive_portal" }
  usageType = UsageEffect "use" Message NORMAL "The portal is inactive."
}
"SOKOBAN_HOLE"
{
  name = "hole"
  viewId = { "sokoban_hole" }
  entryType = Sokoban
}
"BRIDGE"
{
  name = "bridge"
  viewId = { "bridge" }
  overrideMovement = true
  fire = 50
  removeNonFriendly = true
  removeWithCreaturePresent = false
  bridge = true
  canBuildOutsideOfTerritory = true
}
"STONE_BRIDGE" inherit "BRIDGE"
{
  viewId = { "bridge" ColorId GRAY }
  fire = 0
  name = "bridge"
}
"ROAD"
{
  name = "road"
  viewId = { "road" }
}
"MOUNTAIN"
{
  name = "soft rock"
  viewId = { "mountain" }
  blockMovement = true
  blockAllVision = true
  constructMessage = FILL_UP
  viewLayer = FLOOR_BACKGROUND
  wall = true
  xForgetAfterBuilding = true
  strength2 = {
    200 BOULDER
    30 DIG
    200 HOSTILE_DIG
  }
  summonedElement = "EARTH_ELEMENTAL"
  canBuildOutsideOfTerritory = true
  destroyFX = { ROCK_CLOUD Rgb 220 210 180 255 }
  tryDestroyFX = { ROCK_SPLINTERS Rgb 220 210 180 255 }
}
"SANDSTONE" inherit "MOUNTAIN"
{
  name = "sandstone"
  viewId = { "mountain_sand" }
}
"RED_SANDSTONE" inherit "SANDSTONE"
{
  viewId = { "red_sandstone" }
}
"GLACIER" inherit "MOUNTAIN"
{
  name = "glacier"
  viewId = { "glacier" }
}
"MOUNTAIN_SKULLS" inherit "MOUNTAIN"
{
  name = "mountain"
  viewId = { "mountain_skulls" }
}
"WALL_SKULLS" inherit "MOUNTAIN"
{
  name = "wall"
  viewId = { "wall_skulls" }
}
"MOUNTAIN2" inherit "MOUNTAIN"
{
  name = "hard rock"
  viewId = { "mountain2" }
  strength2 = {
    500 BOULDER
    70 DIG
    500 HOSTILE_DIG
  }
  canBuildOutsideOfTerritory = true
  destroyFX = { ROCK_CLOUD Rgb 200 200 200 255 }
  tryDestroyFX = { ROCK_SPLINTERS Rgb 200 200 200 255 }
}
"ADAMANTIUM_ORE" inherit "MOUNTAIN2"
{
  name = "adamantium ore"
  viewId = { "adamantium_ore" }
  clearFogOfWar = true
  itemDrop = {{{{"AdaOre"} 1 { 16 28 }}}}
  strength2 = {
    500 BOULDER
    500 DIG
    500 HOSTILE_DIG
  }
}
"ADOXIUM_ORE" inherit "MOUNTAIN2"
{
  name = "adoxium ore"
  viewId = { "adoxium_ore" }
  clearFogOfWar = true
  itemDrop = {{{{"AdoxiumOre"} 1 { 16 28 }}}}
  strength2 = {
    200 BOULDER
    220 DIG
    200 HOSTILE_DIG
  }
}
"INFERNITE_ORE" inherit "MOUNTAIN2"
{
  name = "infernite ore"
  viewId = { "infernite_ore" }
  clearFogOfWar = true
  itemDrop = {{{{"InferniteOre"} 1 { 16 28 }}}}
  lightEmission = 4.2
  tickType = SetFurnitureOnFire
  strength2 = {
    200 BOULDER
    220 DIG
    200 HOSTILE_DIG
  }
}
"IRON_ORE" inherit "MOUNTAIN2"
{
  name = "iron ore"
  viewId = { "iron_ore" }
  clearFogOfWar = true
  itemDrop = {{{{"IronOre"} 1 { 16 28 }}}}
  strength2 = {
    200 BOULDER
    220 DIG
    200 HOSTILE_DIG
  }
}
"STONE" inherit "MOUNTAIN2"
{
  name = "granite"
  viewId = { "stone" }
  clearFogOfWar = true
  itemDrop = {{{{"Rock"} 1 { 16 28 }}}}
  strength2 = {
    200 BOULDER
    250 DIG
    200 HOSTILE_DIG
  }
}
"GOLD_ORE" inherit "MOUNTAIN2"
{
  name = "gold ore"
  viewId = { "gold_ore" }
  clearFogOfWar = true
  itemDrop = {{{{"GoldPiece"} 1 { 16 28 }}}}
  strength2 = {
    200 BOULDER
    220 DIG
    200 HOSTILE_DIG
  }
}
"DUNGEON_WALL"
{
  name = "wall"
  viewId = { "dungeon_wall" }
  blockMovement = true
  blockAllVision = true
  wall = true
  viewLayer = FLOOR_BACKGROUND
  xForgetAfterBuilding = true
  luxury = 0.2
  constructMessage = REINFORCE
  builtOver = {"MOUNTAIN"}
  canBuildOutsideOfTerritory = true
  strength2 = {
    300 BOULDER
    100 DIG
    1900 HOSTILE_DIG
  }
  destroyFX = { ROCK_CLOUD Rgb 220 210 180 255 }
  tryDestroyFX = { ROCK_SPLINTERS Rgb 220 210 180 255 }
}
"DUNGEON_WALL2" inherit "DUNGEON_WALL"
{
  viewId = { "dungeon_wall2" }
  builtOver = {"MOUNTAIN2"}
  destroyFX = { ROCK_CLOUD Rgb 200 200 200 255 }
  tryDestroyFX = { ROCK_SPLINTERS Rgb 200 200 200 255 }
}
"NECRO_WALL" inherit "DUNGEON_WALL"
{
  viewId = { "necro_wall" }
}
"NECRO_WALL2" inherit "DUNGEON_WALL2"
{
  viewId = { "necro_wall2" }
}
"DWARF_WALL" inherit "DUNGEON_WALL"
{
  viewId = { "dwarf_wall" }
}
"DWARF_WALL2" inherit "DUNGEON_WALL2"
{
  viewId = { "dwarf_wall2" }
}
"SANDSTONE_WALL" inherit "DUNGEON_WALL"
{
  viewId = { "sandstone_wall" }
}
"PIT"
{
  name = "pit"
  viewId = { "pit" }
  movementSet = {
    traits = { FLY }
  }
  xForgetAfterBuilding = true
  tickType = Pit
  canBuildOutsideOfTerritory = true
}
"CASTLE_PILLAR"
{
  name = "stone pillar"
  viewId = { "castle_pillar" }
  strength2 = {
    300 BOULDER
    100 DIG
    1900 HOSTILE_DIG
  }
  canBuildOutsideOfTerritory = true
}
"CASTLE_WALL" inherit "CASTLE_PILLAR"
{
  name = "wall"
  viewId = { "castle_wall" }
  blockMovement = true
  blockAllVision = true
  wall = true
  viewLayer = FLOOR_BACKGROUND
}
"ARCHER_WALL" inherit "CASTLE_WALL"
{
  name = "wall with arrowslits"
  viewId = { "archer_wall" }
  blockVision = { NORMAL ELF }
}
"HIDDEN_CASTLE_DOOR"
{
  name = "wall"
  viewId = { "castle_wall" }
  blockAllVision = true
  strength = 1
  viewLayer = FLOOR_BACKGROUND
  entryType = Effect {
      Message NORMAL "It was just an illusion!"
      Fx { TELEPORT_OUT }
      DestroyWalls BASH
  }
}
"SNOW_WALL" inherit "CASTLE_WALL"
{
  viewId = { "snow_wall" }
  meltInfo = { none }
}
"WOOD_PILLAR"
{
  name = "wooden pillar"
  viewId = { "wood_pillar" }
#wall = true
  strength2 = {
    100 BOULDER
    100 DIG
    300 HOSTILE_DIG
  }
  summonedElement = "ENT"
  fire = 100
  canBuildOutsideOfTerritory = true
  destroyFX = { DESTROY_FURNITURE Rgb 120 87 46 255 }
}
"WOOD_WALL" inherit "WOOD_PILLAR"
{
  name = "wall"
  viewId = { "wood_wall" }
  blockMovement = true
  blockAllVision = true
  wall = true
  viewLayer = FLOOR_BACKGROUND
}
"MUD_WALL"
{
  name = "wall"
  viewId = { "mud_wall" }
  blockMovement = true
  blockAllVision = true
  wall = true
  strength2 = {
    100 BOULDER
  }
}
"RUIN_WALL"
{
  name = "wall"
  viewId = { "ruin_wall" }
  blockMovement = true
  blockAllVision = true
  wall = true
  canBuildOutsideOfTerritory = true
  strength2 = {
    100 BOULDER
    100 DIG
    300 HOSTILE_DIG
  }
}
"BLACK_WALL"
{
  name = "void"
  viewId = { "black" }
  blockMovement = true
  blockAllVision = true
  wall = true
}
"BLACK_FLOOR"
{
  name = "void"
  viewId = { "black" }
  layer = GROUND
}
"FLOOR_WOOD1"
{
  name = "floor"
  viewId = { "wood_floor2" }
  fire = 50
  luxury = 0.1
  layer = FLOOR
}
"FLOOR_WOOD2" inherit "FLOOR_WOOD1"
{
  viewId = { "wood_floor4" }
}
"FLOOR_STONE1"
{
  name = "floor"
  viewId = { "stone_floor1" }
  luxury = 0.3
  layer = FLOOR
}
"FLOOR_STONE2" inherit "FLOOR_STONE1"
{
  viewId = { "stone_floor2" }
}
"FLOOR_STONE3" inherit "FLOOR_STONE1"
{
  viewId = { "stone_floor3" }
}
"FLOOR_STONE5" inherit "FLOOR_STONE1"
{
  viewId = { "stone_floor5" }
}
"FLOOR_CARPET1"
{
  name = "floor"
  viewId = { "carpet_floor1" }
  luxury = 0.7
  layer = FLOOR
}
"FLOOR_CARPET2" inherit "FLOOR_CARPET1"
{
  viewId = { "carpet_floor2" }
}
"FLOOR_CARPET3" inherit "FLOOR_CARPET1"
{
  viewId = { "carpet_floor3" }
}
"FLOOR_CARPET4" inherit "FLOOR_CARPET1"
{
  viewId = { "carpet_floor4" }
}
"CARPET4_GROUND" inherit "FLOOR_CARPET4"
{
  layer = GROUND
}
"FLOOR_SPEED"
{
  name = "floor of speed"
  viewId = { "floor_speed" }
  luxury = 0.7
  layer = FLOOR
  lastingEffect = ALLY SPEED 0
}
"FLOOR_BLIND"
{
  name = "floor of blindness"
  viewId = { "floor_blind" }
  luxury = 0.7
  layer = FLOOR
  lastingEffect = ENEMY BLIND 0
}
"FLOOR_INVI"
{
  name = "floor of invisibility"
  viewId = { "floor_invi" }
  luxury = 0.7
  layer = FLOOR
  lastingEffect = ALLY INVISIBLE 0
}
"FLOOR_PEACE"
{
  name = "floor of peace"
  viewId = { "floor_peace" }
  luxury = 0.7
  layer = FLOOR
  lastingEffect = ENEMY PEACEFULNESS 0
}
"HEALING_TOTEM"
{
  name = "healing totem"
  viewId = { "totem" Rgb 156 58 68 255 }
  lastingEffect = ALLY REGENERATION 3 # ALLY/ENEMY LastingEffect radius
  blockMovement = true
  canHideHere = true
  strength = 100
}
"BLEEDING_TOTEM" inherit "HEALING_TOTEM"
{
  name = "bleeding totem"
  viewId = { "totem" Rgb 156 58 156 255 }
  lastingEffect = ENEMY BLEEDING 7
}
"ALARM_TRAP"
{
  name = "alarm trap"
  viewId = { "trap"  Rgb 186 58 68 255 }
  entryType = Trap { Alarm false }
  warning = true
  constructMessage = SET_UP
}
"INVISIBLE_ALARM"
{
  name = ""
  viewId = { "empty" }
  entryType = Trap { Alarm true true }
}
"POISON_GAS_TRAP"
{
  name = "poison gas trap"
  viewId = { "trap"  Rgb 58 156 68 255 }
  entryType = Trap { Area 1 EmitGas "POISON_GAS" 0.4 }
  warning = true
  constructMessage = SET_UP
}
"WEB_TRAP"
{
  name = "web trap"
  viewId = { "web_trap" }
  entryType = Trap { Lasting ENTANGLED }
  warning = true
  constructMessage = SET_UP
}
"SPIDER_WEB"
{
  name = "spider web"
  viewId = { "web_trap" }
  entryType = Trap { Lasting ENTANGLED true }
}
"SURPRISE_TRAP"
{
  name = "surprise trap"
  viewId = { "surprise_trap" }
  entryType = Trap { Audience none }
  warning = true
  constructMessage = SET_UP
}
"TERROR_TRAP"
{
  name = "panic trap"
  viewId = { "trap" Rgb 156 50 156 255 }
  entryType = Trap { Lasting PANIC }
  warning = true
  constructMessage = SET_UP
}
"FIRE_TRAP"
{
  name = "fire trap"
  viewId = { "trap" ColorId ORANGE }
  entryType = Trap { PlaceFurniture "FIRE_WALL" }
  warning = true
  constructMessage = SET_UP
}
"TRAP_TRIGGER"
{
  name = "trap trigger"
  viewId = { "trap"  Rgb 58 58 156 255 }
  entryType = Trap { Area 1 TriggerTrap }
  warning = true
  constructMessage = SET_UP
}
"DESTROY_WALLS_TRAP"
{
  name = "crumble trap"
  viewId = { "trap" ColorId GRAY }
  entryType = Trap { Area 2 DestroyWalls DIG }
  warning = true
  constructMessage = SET_UP
}   
"BOULDER_TRAP"
{
  name = "boulder trap"
  viewId = { "boulder" }
  blockMovement = true
Def Boulder(Id) {
  Message CRITICAL "The boulder starts rolling."
  UnseenMessage CRITICAL "You hear a heavy boulder rolling."
  SummonEnemy Id 1 none
} End
  tickType = Trap 4 {
    Boulder("ROLLING_BOULDER_N")
    Boulder("ROLLING_BOULDER_S")
    Boulder("ROLLING_BOULDER_W")
    Boulder("ROLLING_BOULDER_E")
  }
  strength = 40
  warning = true
  constructMessage = SET_UP
  viewLayer = CREATURE
}
"BLAST_TRAP"
{
  name = "blast trap"
  viewId = { "trap" ColorId PINK }
  tickType = Trap 1 {
    DirectedBlast {0 -1} 4
    DirectedBlast {0 1} 4
    DirectedBlast {1 0} 4
    DirectedBlast {-1 0} 4
  }
  warning = true
  constructMessage = SET_UP
}
"GARGOYLE_TRAP"
{
  name = "gargoyle trap"
  viewId = { "gargoyle_statue" }
  blockMovement = true
  tickType = Trap 1 {
    Def SummonGargoyle() {
      Message HIGH "The gargoyle comes to life!"
      Summon "GARGOYLE" 1 20
    } End
    SummonGargoyle()
    SummonGargoyle()
    SummonGargoyle()
    SummonGargoyle()
  }
  strength = 40
  warning = true
  constructMessage = SET_UP
}
"SCARECROW"
{
  name = "scarecrow"
  viewId = { "scarecrow" }
  blockMovement = true
  strength = 40
  fire = 10
  viewLayer = CREATURE
}
"PORTAL"
{
  name = "portal"
  viewId = { "portal" }
  strength = 40
  usageType = BuiltinUsageId PORTAL
  onBuilt = PORTAL
  destroyFX = { DESTROY_FURNITURE Rgb 120 120 120 255 }
}
"METEOR_SHOWER"
{
  name = "meteor shower"
  layer = CEILING
  constructMessage = none
  tickType = MeteorShower
}
"FIRE_WALL"
{
  name = "fire"
  viewId = { "empty" }
  layer = CEILING
  constructMessage = none
  onBuilt = SET_ON_FIRE
  burnsDownMessage = STOPS_BURNING
  hostileSpell = true
  fire = 10
}
"WATER"
{
  name = "water"
  viewId = { "water" }
  bloodCountdown = 30
  layer = GROUND
  waterDepth = 100
  entryType = Water
  droppedItems = { "sinks" "sink" "You hear a splash." }
  defaultBridge = "BRIDGE"
  summonedElement = "WATER_ELEMENTAL"
  freezeTo = "ICE"
  fillPit = "WATER"
  canSilentlyReplace = true
  movementSet = {
    traits = { FLY SWIM }
    forcibleTraits = { WALK }
  }
  walkIntoFX = { WATER_SPLASH Rgb 82 148 255 255 }
}
"KRAKEN_WATER" inherit "WATER"
{
  tickType = Effect {
    SummonEnemy "KRAKEN" 1 none
    PlaceFurniture "WATER"
  }
}
"SHALLOW_WATER1" inherit "WATER"
{
  name = "shallow water"
  waterDepth = 1.5
  droppedItems = none
  movementSet = {
    traits = { FLY SWIM WADE }
    forcibleTraits = { WALK }
  }
}
"SHALLOW_WATER2" inherit "SHALLOW_WATER1"
{
  waterDepth = 0.5
}
"MAGMA" {
  name = "magma"
  viewId = { "magma" }
  layer = GROUND
  entryType = Magma
  droppedItems = { "burns" "burn" }
  lightEmission = 8.2
  defaultBridge = "STONE_BRIDGE"
  summonedElement = "FIRE_ELEMENTAL"
  freezeTo = "FLOOR"
  fillPit = "MAGMA"
  canSilentlyReplace = true
  tickType = SetFurnitureOnFire
  movementSet = {
    traits = { FLY }
    forcibleTraits = { WALK }
  }
}
"TAR" {
  name = "tar"
  viewId = { "tar" }
  layer = GROUND
  defaultBridge = "STONE_BRIDGE"
  tickType = Effect
    Filter And { Not LastingEffect FLYING Not BodyMaterial SPIRIT Not LastingEffect IMMOBILE} {
      Chance 0.1 {
        CreatureMessage { "are stuck in the tar!" "is stuck in the tar!"}
        Lasting IMMOBILE
      }
      Filter Not LastingEffect IMMOBILE Chance 0.5 {
        CreatureMessage {"are slowed down by the tar!" "is slowed down by the tar!"}
        Lasting SLOWED
      }
    }
}
"SAND"
{
  name = "sand"
  viewId = { "sand" }
  layer = GROUND
  walkOverFX = { SAND_DUST Rgb 255 229 178 255 }
}
"RED_SAND"
{
  name = "sand"
  viewId = { "red_sand" }
  layer = GROUND
  walkOverFX = { SAND_DUST Rgb 255 159 128 255 }
}
"GRASS"
{
  name = "grass"
  viewId = { "grass" }
  layer = GROUND
}
"SNOW"
{
  name = "snow"
  viewId = { "snow" }
  layer = GROUND
}
"ICE"
{
  name = "ice"
  viewId = { "ice" }
  layer = GROUND
  meltInfo = { "WATER" }
}
"MUD"
{
  name = "mud"
  viewId = { "mud" }
  layer = GROUND
}
"SWAMPGRASS"
{
  name = "grass"
  viewId = { "swampgrass" }
  layer = GROUND
}
"HILL"
{
  name = "hill"
  viewId = { "hill" }
  layer = GROUND
}
"FILL_UP_WATER_FLOOR"
{
  name = "floor"
  viewId = { "floor" }
  layer = GROUND
  canBuildOutsideOfTerritory = true
  xForgetAfterBuilding = true
  builtOver = {"WATER" "SHALLOW_WATER1" "SHALLOW_WATER2" "MAGMA"}
}
"FLOOR"
{
  name = "floor"
  viewId = { "floor" }
  layer = GROUND
  canBuildOutsideOfTerritory = true
  builtOver = {"HILL" "GRASS" "SAND" "SNOW" "FILL_UP_WATER_FLOOR" "ROOF"}
}
"GHOST_SPAWN" inherit "FLOOR"
{
  tickType = Effect Chance 0.002 Filter Area 10 Not CreatureId "LOST_SOUL" SummonEnemy "LOST_SOUL" 1 none
}
"ROOF"
{
  name = "roof"
  viewId = { "roof" }
  layer = GROUND
}
"FLOOR_RED" inherit "FLOOR"
{
  name = "good intentions"
  viewId = { "floor_red" }
}
"TUTORIAL_ENTRANCE"
{
  name = "tutorial entrance"
  viewId = { "tutorial_entrance" }
  layer = CEILING
  viewLayer = TORCH2
  canBuildOutsideOfTerritory = true
}
